<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TERRA - Usuarios Anima</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Space+Grotesk:wght@400;600;700&family=JetBrains+Mono:wght@400;500;600&family=Dancing+Script:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent-kotarou: #ff6b6b;
            --accent-taichi: #4a9eff;
            --accent-lucy: #ffd93d;
            --accent-shiro: #6bcf7f;
            --accent-uenoyama: #a78bfa;
            --accent-sasaki: #d97fff;
            --accent-usui: #ff8ba7;
            --accent-akane: #5accff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg,
                #000000 0%,
                #0d0d1a 20%,
                #1a1a2e 40%,
                #2d2d45 60%,
                #4a4a65 80%,
                #707085 100%);
            color: #ffffff;
            overflow: hidden;
            height: 100vh;
        }

        .character-viewer {
            width: 100%;
            height: 100vh;
            position: relative;
            display: flex;
        }

        /* Panel lateral - diseño urbano limpio */
        .character-nav {
            width: 200px;
            height: 100vh;
            background: rgba(10, 10, 12, 0.98);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 255, 255, 0.06);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 50px 25px;
            gap: 12px;
            z-index: 100;
        }

        /* Logo estilo Moon&Terra horizontal */
        .nav-logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
            width: 100%;
        }

        .title-horizontal {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            margin-bottom: 12px;
            width: 100%;
        }

        .moon-icon {
            width: 45px;
            height: 45px;
            position: relative;
            flex-shrink: 0;
        }

        .moon-icon svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 1px 4px rgba(255, 255, 255, 0.5));
        }

        .nav-logo-moon {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            font-weight: 600;
            color: #ffffff;
            line-height: 1;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
        }

        .nav-logo-terra {
            font-family: Georgia, 'Times New Roman', serif;
            font-size: 1.4rem;
            font-weight: 600;
            color: #ffffff;
            line-height: 1;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
        }

        .nav-subtitle {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.5rem;
            letter-spacing: 2.5px;
            color: rgba(255, 255, 255, 0.35);
            text-align: center;
        }

        .section-divider {
            width: 80%;
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 20px 0;
        }

        .nav-menu {
            display: flex;
            flex-direction: column;
            gap: 8px;
            width: 100%;
        }

        .nav-link {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            letter-spacing: 2px;
            color: rgba(255, 255, 255, 0.45);
            text-decoration: none;
            text-align: center;
            padding: 14px 12px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            background: transparent;
            transition: all 0.25s ease;
            position: relative;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 2px;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            transform: scaleY(0);
            transition: transform 0.25s ease;
        }

        .nav-link:hover {
            color: rgba(255, 255, 255, 0.8);
            border-color: rgba(255, 255, 255, 0.15);
            background: rgba(255, 255, 255, 0.03);
        }

        .nav-link.active {
            color: rgba(255, 255, 255, 0.95);
            border-color: rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
        }

        .nav-link.active::before {
            transform: scaleY(1);
        }

        /* Área principal */
        .character-display {
            flex: 1;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        /* Cards como carpetas/expedientes con bordes visibles */
        .character-card {
            position: absolute;
            top: 40px;
            left: 40px;
            right: 40px;
            bottom: 40px;
            opacity: 0;
            pointer-events: none;
            display: flex;
            transform: translateX(100px) scale(0.95);
            transition: opacity 0.5s ease, transform 0.5s ease;
            border: 1px solid rgba(255, 255, 255, 0.15);
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(5px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        .character-card.active {
            opacity: 1;
            pointer-events: auto;
            transform: translateX(0) scale(1);
        }

        /* Efecto de "cerrar expediente" */
        .character-card.closing {
            transform: translateX(-100px) scale(0.95);
            opacity: 0;
        }

        /* Pestaña superior del expediente */
        .character-card::before {
            content: '';
            position: absolute;
            top: -20px;
            left: 60px;
            width: 150px;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-bottom: none;
            border-radius: 4px 4px 0 0;
        }

        /* Fondos sutiles urbanos dentro de la carpeta */
        .card-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            border-radius: 2px;
        }

        .card-background.kotarou {
            background:
                radial-gradient(circle at 75% 25%, rgba(180, 60, 60, 0.08) 0%, transparent 50%),
                linear-gradient(135deg, #0d0809 0%, #1a0f10 40%, #0a0607 70%, #000 100%);
        }

        .card-background.taichi {
            background:
                radial-gradient(circle at 75% 25%, rgba(70, 110, 200, 0.08) 0%, transparent 50%),
                linear-gradient(135deg, #080c12 0%, #0f1620 40%, #060a0f 70%, #000 100%);
        }

        .card-background.lucy {
            background:
                radial-gradient(circle at 50% 50%, rgba(200, 160, 50, 0.07) 0%, transparent 50%),
                linear-gradient(135deg, #0e0b08 0%, #1c1410 40%, #0a0806 70%, #000 100%);
        }

        .card-background.shiro {
            background:
                radial-gradient(circle at 30% 70%, rgba(80, 150, 100, 0.07) 0%, transparent 50%),
                linear-gradient(135deg, #080d0a 0%, #0f1a14 40%, #060a08 70%, #000 100%);
        }

        .card-background.uenoyama {
            background:
                radial-gradient(circle at 60% 40%, rgba(130, 110, 180, 0.08) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a10 0%, #14141f 40%, #08080e 70%, #000 100%);
        }

        .card-background.sasaki {
            background:
                radial-gradient(circle at 40% 60%, rgba(170, 100, 180, 0.08) 0%, transparent 50%),
                linear-gradient(135deg, #0d0a10 0%, #1a141f 40%, #0a080e 70%, #000 100%);
        }

        .card-background.usui {
            background:
                radial-gradient(circle at 70% 30%, rgba(180, 100, 120, 0.08) 0%, transparent 50%),
                linear-gradient(135deg, #0f0a0c 0%, #1c1015 40%, #0b0709 70%, #000 100%);
        }

        .card-background.akane {
            background:
                radial-gradient(circle at 50% 50%, rgba(70, 150, 180, 0.07) 0%, transparent 50%),
                linear-gradient(135deg, #080e11 0%, #0f1c20 40%, #060b0d 70%, #000 100%);
        }

        /* Panel de información COMPACTO - SIN SCROLL */
        .character-info {
            width: 50%;
            height: 100%;
            padding: 60px 50px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            z-index: 10;
        }

        .character-category {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            letter-spacing: 3px;
            color: rgba(255, 255, 255, 0.4);
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .character-name {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 3rem;
            font-weight: 700;
            letter-spacing: 4px;
            line-height: 1;
            margin-bottom: 20px;
        }

        .character-iris {
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 20px;
            padding-left: 12px;
            border-left: 2px solid;
            opacity: 0.9;
        }

        .character-description {
            font-size: 0.85rem;
            line-height: 1.6;
            opacity: 0.75;
            margin-bottom: 20px;
        }

        /* Habilidades como lista compacta */
        .abilities-compact {
            margin-bottom: 15px;
        }

        .ability-item {
            margin-bottom: 12px;
        }

        .ability-item-name {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 4px;
            letter-spacing: 1px;
        }

        .ability-item-desc {
            font-size: 0.8rem;
            line-height: 1.5;
            opacity: 0.7;
            padding-left: 10px;
        }

        .character-notes {
            font-size: 0.75rem;
            line-height: 1.5;
            opacity: 0.5;
            font-style: italic;
            margin-top: 15px;
        }

        /* Panel de imagen */
        .character-image {
            width: 50%;
            height: 100%;
            position: relative;
            z-index: 5;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .image-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .image-placeholder::before {
            content: '';
            position: absolute;
            width: 350px;
            height: 350px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }

        .placeholder-text {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
            letter-spacing: 2px;
            color: rgba(255, 255, 255, 0.15);
            z-index: 1;
        }

        .character-image img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.6));
        }

        /* Colores por personaje */
        .character-card[data-character="kotarou"] .character-name,
        .character-card[data-character="kotarou"] .character-iris,
        .character-card[data-character="kotarou"] .ability-item-name {
            color: var(--accent-kotarou);
            border-color: var(--accent-kotarou);
        }

        .character-card[data-character="taichi"] .character-name,
        .character-card[data-character="taichi"] .character-iris,
        .character-card[data-character="taichi"] .ability-item-name {
            color: var(--accent-taichi);
            border-color: var(--accent-taichi);
        }

        .character-card[data-character="lucy"] .character-name,
        .character-card[data-character="lucy"] .character-iris,
        .character-card[data-character="lucy"] .ability-item-name {
            color: var(--accent-lucy);
            border-color: var(--accent-lucy);
        }

        .character-card[data-character="shiro"] .character-name,
        .character-card[data-character="shiro"] .character-iris,
        .character-card[data-character="shiro"] .ability-item-name {
            color: var(--accent-shiro);
            border-color: var(--accent-shiro);
        }

        .character-card[data-character="uenoyama"] .character-name,
        .character-card[data-character="uenoyama"] .character-iris,
        .character-card[data-character="uenoyama"] .ability-item-name {
            color: var(--accent-uenoyama);
            border-color: var(--accent-uenoyama);
        }

        .character-card[data-character="sasaki"] .character-name,
        .character-card[data-character="sasaki"] .character-iris,
        .character-card[data-character="sasaki"] .ability-item-name {
            color: var(--accent-sasaki);
            border-color: var(--accent-sasaki);
        }

        .character-card[data-character="usui"] .character-name,
        .character-card[data-character="usui"] .character-iris,
        .character-card[data-character="usui"] .ability-item-name {
            color: var(--accent-usui);
            border-color: var(--accent-usui);
        }

        .character-card[data-character="akane"] .character-name,
        .character-card[data-character="akane"] .character-iris,
        .character-card[data-character="akane"] .ability-item-name {
            color: var(--accent-akane);
            border-color: var(--accent-akane);
        }

        /* Navegación con flechas - diseño limpio */
        .nav-arrows {
            position: absolute;
            top: 30px;
            right: 30px;
            display: flex;
            gap: 12px;
            z-index: 50;
        }

        .nav-arrow {
            width: 42px;
            height: 42px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.4);
        }

        .nav-arrow:hover {
            background: rgba(255, 255, 255, 0.08);
            color: rgba(255, 255, 255, 0.85);
            border-color: rgba(255, 255, 255, 0.2);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .character-info {
                width: 100%;
                padding: 50px 40px;
            }

            .character-image {
                display: none;
            }

            .character-name {
                font-size: 2.5rem;
            }
        }

        @media (max-width: 768px) {
            .character-nav {
                width: 120px;
                padding: 30px 15px;
            }

            .moon-icon {
                width: 32px;
                height: 32px;
            }

            .nav-logo-moon {
                font-size: 1.3rem;
            }

            .nav-logo-terra {
                font-size: 1.3rem;
            }

            .title-horizontal {
                gap: 5px;
            }

            .nav-link {
                font-size: 0.65rem;
                padding: 10px 8px;
            }

            .character-name {
                font-size: 2rem;
            }

            .nav-arrows {
                top: 15px;
                right: 15px;
            }

            .nav-arrow {
                width: 38px;
                height: 38px;
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="character-viewer">
        <!-- Panel lateral -->
        <div class="character-nav">
            <div class="nav-logo-container">
                <!-- Título horizontal Moon & Terra -->
                <div class="title-horizontal">
                    <div class="nav-logo-moon">Moon</div>
                    <div class="moon-icon">
                        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <!-- Luna menguante estilo brush stroke -->
                            <!-- Forma principal de la luna creciente -->
                            <path d="M 50 10
                                     C 70 10, 85 25, 85 50
                                     C 85 75, 70 90, 50 90
                                     C 60 85, 65 70, 65 50
                                     C 65 30, 60 15, 50 10 Z"
                                  fill="rgba(255, 255, 255, 0.95)"
                                  stroke="none"/>

                            <!-- Textura de pincelada en el borde exterior -->
                            <path d="M 50 10 C 70 10, 85 25, 85 50 C 85 75, 70 90, 50 90"
                                  fill="none"
                                  stroke="rgba(255, 255, 255, 0.6)"
                                  stroke-width="1.5"
                                  stroke-linecap="round"/>

                            <!-- Pequeñas salpicaduras artísticas -->
                            <circle cx="43" cy="20" r="1.2" fill="rgba(255, 255, 255, 0.7)"/>
                            <circle cx="45" cy="35" r="0.8" fill="rgba(255, 255, 255, 0.6)"/>
                            <circle cx="42" cy="65" r="1" fill="rgba(255, 255, 255, 0.65)"/>
                            <circle cx="44" cy="80" r="0.9" fill="rgba(255, 255, 255, 0.6)"/>

                            <!-- Detalles de cráteres sutiles -->
                            <circle cx="58" cy="35" r="2" fill="rgba(0, 0, 0, 0.08)" opacity="0.6"/>
                            <circle cx="62" cy="50" r="2.5" fill="rgba(0, 0, 0, 0.08)" opacity="0.6"/>
                            <circle cx="55" cy="65" r="1.8" fill="rgba(0, 0, 0, 0.08)" opacity="0.6"/>
                        </svg>
                    </div>
                    <div class="nav-logo-terra">Terra</div>
                </div>
                <div class="nav-subtitle">YOKOHAMA DIVISIÓN</div>
            </div>

            <div class="section-divider"></div>

            <!-- Menú de navegación -->
            <nav class="nav-menu">
                <a href="#" class="nav-link">INICIO</a>
                <a href="#" class="nav-link active">PERSONAJES</a>
                <a href="#" class="nav-link">HISTORIA</a>
                <a href="#" class="nav-link">MUNDO</a>
            </nav>
        </div>

        <!-- Área de visualización -->
        <div class="character-display" id="characterDisplay">
            <!-- Flechas de navegación -->
            <div class="nav-arrows">
                <div class="nav-arrow" onclick="navigateCharacter(-1)">‹</div>
                <div class="nav-arrow" onclick="navigateCharacter(1)">›</div>
            </div>
        </div>
    </div>

    <script>
        const charactersData = {
            kotarou: {
                name: 'KIRIGAYA KOTAROU',
                role: 'ESTRATEGA DE CAMPO • AGENCIA ADE',
                iris: 'IRIS: SOL DE LA VERDAD',
                description: 'Especialista en manipulación energética con enfoque estratégico. Trabaja en estrecha coordinación con Taichi como el cerebro táctico del equipo.',
                abilities: [
                    { name: 'CONTROL', desc: 'Absorbe energía para canalizarla en objetos, permitiendo manipulación remota y alteración de masa.' },
                    { name: 'CONTENCIÓN', desc: 'Libera energía almacenada para aumentar capacidades físicas. Requiere daño físico para activarse.' }
                ],
                notes: 'Su Iris le permite ver a través de ilusiones. Puede otorgar cuerpo físico a almas errantes. Coordinación preferida con Taichi.'
            },
            taichi: {
                name: 'NATSUME TAICHI',
                role: 'LÍDER DE OPERACIONES • AGENCIA ADE',
                iris: 'IRIS: LUNA DE DESINTEGRACIÓN',
                description: 'Líder del sector de combate y primer exorcista usuario de técnica formado en la ADE. Pilar ofensivo del equipo especializado en combate cuerpo a cuerpo.',
                abilities: [
                    { name: 'TORRENTE DEL JUICIO', desc: 'Manifiesta energía vital en torrentes de agua moldeables en armas blancas (espadas, dagas).' },
                    { name: 'ROCÍO DE GRACIA', desc: 'Herramienta curativa limitada. No puede curar a la misma persona consecutivamente ni resucitar.' }
                ],
                notes: 'Su Iris puede destruir cualquier cosa etérea. Si no se sella, absorbe vitalidad. Usa guantes negros cuando sus sellos están rotos.'
            },
            lucy: {
                name: 'LUCY',
                role: 'ASALTA VELOZ • AGENCIA ADE',
                iris: 'IRIS: NO APLICA',
                description: 'Especialista en movilidad ultrarrápida y ataques sorpresa. Reclutada por Taichi junto a su hermana Shiro. Una de las usuarias más veloces registradas.',
                abilities: [
                    { name: 'LUZ INALCANZABLE', desc: 'Genera energía cinética duplicando su velocidad, aumentando exponencialmente con fricción.' },
                    { name: 'TEJEDORA DE LUZ', desc: 'Comparte energía acumulada al entorno, revitalizando vegetación.' }
                ],
                notes: 'Usuaria Corporis con conexión solar. Prótesis especializadas. Velocidad máxima: Mach 2.3. Hermana gemela de Shiro.'
            },
            shiro: {
                name: 'SHIRO',
                role: 'TANQUE OFENSIVO • AGENCIA ADE',
                iris: 'IRIS: NO APLICA',
                description: 'Especialista en defensa y combate de alto impacto. Complementa el estilo de Lucy proporcionando fuerza bruta y resistencia.',
                abilities: [
                    { name: 'PETRIFICACIÓN', desc: 'Endurece su piel en metal/roca. Aumenta fuerza física temporalmente.' },
                    { name: 'TRANSMUTACIÓN', desc: 'Crea armas pesadas (espadones, hachas) con materiales absorbidos por impacto.' }
                ],
                notes: 'Usuaria Corporis. Su velocidad disminuye al cambiar fisiología. Lucy la ayuda a compactar armas. Hermana gemela de Lucy.'
            },
            uenoyama: {
                name: 'UENOYAMA RINGO',
                role: 'ESPECIALISTA EN CONTROL • AGENCIA ADE',
                iris: 'IRIS: NO APLICA',
                description: 'Especialista criogénico y una de las pocas usuarias Mentem. Pasa más tiempo en investigación como mano derecha de Akane.',
                abilities: [
                    { name: 'GÉNESIS HELADA', desc: 'Materializa hielo y estructuras sólidas. Más efectivo con vapor o humedad elevada.' },
                    { name: 'ESTASIS PERPETUA', desc: 'Crea campos de congelación que ralentizan objetivos. Genera sellos de hielo.' }
                ],
                notes: 'Habilidades psicoquinéticas. Objeto vinculante: pipa antigua. Sus sellos solo se rompen con habilidades Mentem.'
            },
            sasaki: {
                name: 'SASAKI',
                role: 'USUARIA ANIMA INDEPENDIENTE',
                iris: 'IRIS: ARMONÍA DEL VACÍO',
                description: 'Poseedora de habilidades musicales únicas heredadas de su padre. Opera independientemente con contactos en la ADE.',
                abilities: [
                    { name: 'CONTRAPUNTO', desc: 'Manipula poderes enemigos dentro de 25m, usándolos en su contra.' },
                    { name: 'CRESCENDO', desc: 'Potencia capacidades de aliados. Requiere análisis previo del poder objetivo.' }
                ],
                notes: 'Su Iris usa música para ver deseos/recuerdos. Puede otorgar cuerpos a almas errantes. Heredó Iris de categoría Sol.'
            },
            usui: {
                name: 'USUI',
                role: 'LÍDER DE SHINIGAMI TENSEI',
                iris: 'IRIS: NO APLICA',
                description: 'Líder de Shinigami Tensei. Filosofía diferente a ADE pero comparte objetivo de protección. Prefiere combate estratégico.',
                abilities: [
                    { name: 'COMBUSTIÓN', desc: 'Usa sangre como combustible para aumentar capacidades físicas y crear armas ígneas.' },
                    { name: 'CONSANGUÍNEO', desc: 'Comparte poder mediante sangre con aliados dignos. Monitorea su estado vital.' }
                ],
                notes: 'Prefiere armas convencionales. Objeto vinculante: moneda de oro era Heian. Experiencia en combate: 12+ años.'
            },
            akane: {
                name: 'AKANE NATSUME',
                role: 'DIRECTOR Y FUNDADOR • AGENCIA ADE',
                iris: 'IRIS: NO APLICA',
                description: 'Fundador y estratega principal de la ADE. Conocimiento enciclopédico del mundo sobrenatural. Define cada operación importante.',
                abilities: [
                    { name: 'MARCA PERPETUA', desc: 'Sella usuarios de habilidad, neutralizando su poder temporalmente.' },
                    { name: 'ALMA DE MUÑECO', desc: 'Introduce energía vital en objetos/cuerpos sin alma, poseyéndolos.' }
                ],
                notes: 'Crea cortinas protectoras en su dominio. Pasa 90% en oficina/investigación. Fundador de la ADE.'
            }
        };

        const characters = ['kotarou', 'taichi', 'lucy', 'shiro', 'uenoyama', 'sasaki', 'usui', 'akane'];
        let currentIndex = 0;

        function generateCharacterCard(charId, data) {
            const abilitiesHTML = data.abilities.map(ability => `
                <div class="ability-item">
                    <div class="ability-item-name">${ability.name}</div>
                    <div class="ability-item-desc">${ability.desc}</div>
                </div>
            `).join('');

            return `
                <div class="character-card ${charId === 'kotarou' ? 'active' : ''}" data-character="${charId}">
                    <div class="card-background ${charId}"></div>

                    <div class="character-info">
                        <div class="character-category">${data.role}</div>
                        <div class="character-name">${data.name}</div>
                        <div class="character-iris">${data.iris}</div>
                        <div class="character-description">${data.description}</div>

                        <div class="abilities-compact">
                            ${abilitiesHTML}
                        </div>

                        <div class="character-notes">${data.notes}</div>
                    </div>

                    <div class="character-image">
                        <div class="image-placeholder">
                            <span class="placeholder-text">ILUSTRACIÓN DEL PERSONAJE</span>
                        </div>
                    </div>
                </div>
            `;
        }

        const displayContainer = document.getElementById('characterDisplay');
        characters.forEach(charId => {
            displayContainer.innerHTML += generateCharacterCard(charId, charactersData[charId]);
        });

        function showCharacter(characterId) {
            // Agregar efecto de "cerrar expediente" a la carta actual
            const currentCard = document.querySelector('.character-card.active');
            if (currentCard) {
                currentCard.classList.add('closing');
                setTimeout(() => {
                    currentCard.classList.remove('active', 'closing');
                }, 250);
            }

            // Abrir nuevo expediente con delay
            setTimeout(() => {
                document.querySelector(`.character-card[data-character="${characterId}"]`).classList.add('active');
            }, 250);

            currentIndex = characters.indexOf(characterId);
        }

        function navigateCharacter(direction) {
            currentIndex += direction;
            if (currentIndex >= characters.length) currentIndex = 0;
            else if (currentIndex < 0) currentIndex = characters.length - 1;
            showCharacter(characters[currentIndex]);
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') navigateCharacter(-1);
            else if (e.key === 'ArrowRight') navigateCharacter(1);
        });

        let scrollTimeout;
        document.addEventListener('wheel', (e) => {
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(() => {
                if (e.deltaY > 0) navigateCharacter(1);
                else if (e.deltaY < 0) navigateCharacter(-1);
            }, 50);
        }, { passive: true });
    </script>
</body>
</html>
